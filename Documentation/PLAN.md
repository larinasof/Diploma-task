# План автоматизации тестирования
## Перечень автоматизируемых сценариев
Тестирование всех сценариев покупки тура производится на двух вкладках главной страницы сервиса: "Купить" и "Купить в кредит", а также на двух СУБД: MySQL и PostgreSQL.

### Позитивные сценарии

1. При вводе валидных данных активной карты, оплата проходит успешно.
    1. Открыть страницу веб-сервиса;
    2. Нажать кнопку "Купить";
    3. Ввести валидные данные активной карты во все поля;
    4. Нажать кнопку "Продолжить".

   *Ожидаемый результат*: Появляется окно с подтверждением: "Операция одобрена Банком". Данные сохраняются в БД правильно.

2. При вводе валидных данных заблокированной карты, оплата не проходит.
    1. Открыть страницу веб-сервиса;
    2. Нажать кнопку "Купить";
    3. Ввести валидные данные заблокированной карты во все поля;
    4. Нажать кнопку "Продолжить".
   
   *Ожидаемый результат*: Появляетя окно с ошибкой:  "Ошибка! Банк отказал в проведении операции". Данные сохраняются в БД правильно.

### Негативные сценарии

1. При вводе невалидного номера карты, оплата не проходит.
    1. Открыть страницу веб-сервиса;
    2. Нажать кнопку "Купить";
    3. Ввести невалидный номер карты ("4444 4444 4444 4443");
    4. Заполнить остальные поля валидными данными;
    5. Нажать кнопку "Продолжить".

    *Ожидаемый результат*: Появляетя окно с ошибкой:  "Ошибка! Банк отказал в проведении операции". Данные в БД не сохраняются.

2. При вводе номера карты некорректного формата, оплата не проходит.
    1. Открыть страницу веб-сервиса;
    2. Нажать кнопку "Купить";
    3. Ввести невалидный номер карты ("4444 4444 444");
    4. Заполнить остальные поля валидными данными;
    5. Нажать кнопку "Продолжить".

    *Ожидаемый результат*: Появляетя окно с ошибкой: "Ошибка! Банк отказал в проведении операции". Данные в БД не сохраняются.

3. При вводе данных карты с истекшим сроком, оплата не проходит.
    1. Открыть страницу веб-сервиса;
    2. Нажать кнопку "Купить";
    3. Ввести в поле "Год" невалидные данные ("19");
    4. Заполнить остальные поля валидными данными;
    5. Нажать кнопку "Продолжить".

    *Ожидаемый результат*: Под полем ввода года появляется предупреждение: "Истёк срок действия карты". Данные в БД не сохраняются.

4. При вводе данных карты с невалидным сроком, оплата не проходит.
    1. Открыть страницу веб-сервиса;
    2. Нажать кнопку "Купить";
    3. Ввести в поле "Год" невалидные данные ("35");
    4. Заполнить остальные поля валидными данными;
    5. Нажать кнопку "Продолжить".

    *Ожидаемый результат*: Под полем ввода года появляется предупреждение: "Неверно указан срок действия карты". Данные в БД не сохраняются.


5. При вводе данных карты с невалидным месяцем, оплата не проходит.
    1. Открыть страницу веб-сервиса;
    2. Нажать кнопку "Купить";
    3. Ввести в поле "Месяц" невалидные данные ("13");
    4. Заполнить остальные поля валидными данными;
    5. Нажать кнопку "Продолжить".
    
    *Ожидаемый результат*: Под полем ввода года появляется предупреждение: "Неверно указан срок действия карты". Данные в БД не сохраняются.

6. При вводе невалидного имени владельца карта, оплата не проходит.
    1. Открыть страницу веб-сервиса;
    2. Нажать кнопку "Купить";
    3. Ввести в поле "Владелец" невалидные данные ("Иван Иванов");
    4. Заполнить остальные поля валидными данными;
    5. Нажать кнопку "Продолжить".

    *Ожидаемый результат*: Под полем ввода владельца карты появляется предупреждение: "Неверный формат". Данные в БД не сохраняются.

7. При вводе невалидного CVC/CVV, оплата не проходит.
    1. Открыть страницу веб-сервиса;
    2. Нажать кнопку "Купить";
    3. Ввести в поле "CVC/CVV" ввести невалидные данные: "11"
    4. Заполнить остальные поля валидными данными;
    5. Нажать кнопку "Продолжить".
    
    *Ожидаемый результат*: Под полем ввода CVC/CVV появляется предупреждение: "Неверный формат". Данные в БД не сохраняются.

## Перечень используемых инструментов с обоснованием выбора
*GitHub* - онлайн-сервис, позволяющий делиться кодом в публичном репозитории с помощью инструмента Git - системы управления версиями. Инструмент позволяет отслеживать измения в файлах и работать совместно с другими сотрудниками. 

*IntelliJ IDEA* - популярная среда разработки, поддерживающая написание кода на языке Java. Предоставляет подключение зависимостей для использования других инструментов, автоматически анализирует код, подсказывает исправление возникающих ошибок в коде, позволяет запускать тесты. Удобное взаимодействие с Git.

*Gradle* — система управления зависимостями в IntelliJ Idea. Позволяет подключать необходимые для работы библиотеки и плагины. 

*JUnit* - платформа для написания авто-тестов и их запуска. Имеет готовый набор методов для сравнения ожидаемого и фактического результата.

*Selenide* - инструмент для автоматических тестов, позволяющий тестировать UI. Построен на базе Selenium и вотличие от него, не требует дополнительного скачивания веб-драйвера для браузера, создает автоматические скриншоты, более прост в использовании.

*Allure* - фреймворк для создания наглядных отчётов авто-тестов. Позволяет получать скриншоты, отслеживать динамику ошибок.

*Docker Toolbox* - ПО, позволяющее операционной системе запускать процессы в изолированном окружении на базе специально созданных образов. Это универсальный способ доставки приложений на машины (локальный компьютер или удаленные сервера) и их запуска в изолированном окружении.

*VirtualBox* - приложение, позволяющее создавать образ среды на базе имеющихся на локальной машине и необходимое для работы Docker Toolbox.

## Перечень и описание возможных рисков при автоматизации
* Сложность настройки и работы с двумя СУБД одновременно. MySQL разбирался на вебинаре, с PostgreSQL необходимо разобраться самостоятельно.
* Необходимости настройки интеграции с Node.js. В работе с симулятором можно не выявить тех ошибок, которые бы возникли при работе с реальным банковским сервисом.

## Интервальная оценка с учётом рисков (в часах)
* Подготовка тестового окружения, написание авто-тестов, их прогон, написанием репортов о найденных багах - 24 часа
* Написание отчетных документов по итогам тестирования - 6 часов
* Написание отчетных документов по итогам автоматизации - 9 часов
## План сдачи работ
* Сдача плана автоматизации - в течение 3 дней после начала работы - 14.10.2020
* Подготовка тестового окружения, написание авто-тестов, их прогон - в течение 8 дней - 22.10.2020
* Сдача отчетных документов по итогам тестирования - в течение 2 дней - 24.10.2020
* Сдача отчетных документов по итогам автоматизации - в течение 3 дней - 27.10.2020